# 索引与执行计划

## 索引

### 索引是什么？

MySQL 官方的定义：索引(index)是帮助 mysql 高效获取数据的数据结构。

索引的本质是数据结构

### B+Tree

特点：

- 数据只存储在叶子节点上，非叶子节点保存索引信息
    - 非叶子节点(索引节点)存储的只是一个flag，不保存实际数据记录
    - 索引节点的左子树比其flag小，右子树大于等于flag
- 叶子节点本身按照数据的升序进行链接(串联起来)
    - 叶子节点中的数据在物理存储上是无序的，仅仅是在逻辑上有序(通过指针串在一起)
- 叶子节点是环形串联的

插入新值时会有分裂

|leaf page 满|index page 满|操作|
|:---:|:---:|:---|
|no|no|直接将记录插入到叶子节点|
|yes|no|1) 拆分leaf page<br />2) 将中间的节点放入到index page中<br />3) 小于中间节点的记录放左边<br />4) 大于或等于中间节点的记录放右边|
|yes|yes|1) 拆分leaf page<br />2) 小于中间节点的记录放左边<br />3) 大于或等于中间节点的放右边<br />4) 拆分index page<br />5) 小于中间节点的记录放左边<br />6) 大于中间节点的放右边<br />7) 中间节点放入上一层index page|

- 删除旧值时会有合并

### 索引的分类

### 基础语法

## 执行计划

## 什么事执行计划

## 执行计划的作用

## 执行计划详解